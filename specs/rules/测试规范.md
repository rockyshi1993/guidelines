# v3 æµ‹è¯•è§„èŒƒ

> **æ–‡ä»¶**: specs/rules/æµ‹è¯•è§„èŒƒ.md  
> **ç‰ˆæœ¬**: v3.0  
> **æ—¥æœŸ**: 2025-11-20  
> **è¯´æ˜**: AI ç”Ÿæˆæµ‹è¯•çš„è´¨é‡è§„èŒƒ

---

## ğŸ“‹ æµ‹è¯•è¦†ç›–ç‡è¦æ±‚

### è¦†ç›–ç‡ç›®æ ‡

```yaml
å•å…ƒæµ‹è¯•è¦†ç›–ç‡:
  æœ€ä½è¦æ±‚: 80%
  å»ºè®®ç›®æ ‡: 90%
  
  IF: è¦†ç›–ç‡ < 80%
  THEN: 
    - å¿…é¡»è¡¥å……æµ‹è¯•
    - é˜»æ­¢æäº¤

é›†æˆæµ‹è¯•è¦†ç›–ç‡:
  æœ€ä½è¦æ±‚: 60%
  å»ºè®®ç›®æ ‡: 75%

E2Eæµ‹è¯•è¦†ç›–ç‡:
  æœ€ä½è¦æ±‚: ä¸»æµç¨‹100%
  å»ºè®®ç›®æ ‡: å…³é”®æµç¨‹100%

æ ¸å¿ƒä¸šåŠ¡é€»è¾‘:
  è¦æ±‚: 100%è¦†ç›–
  
  åŒ…æ‹¬:
    - æ”¯ä»˜æµç¨‹
    - è®¢å•æµç¨‹
    - ç”¨æˆ·è®¤è¯
    - æƒé™éªŒè¯
    - æ•°æ®è®¡ç®—é€»è¾‘
```

### è¦†ç›–ç‡ç±»å‹

```yaml
è¡Œè¦†ç›–ç‡ï¼ˆLine Coverageï¼‰:
  å®šä¹‰: æ‰§è¡Œåˆ°çš„ä»£ç è¡Œæ•° / æ€»ä»£ç è¡Œæ•°
  æœ€ä½: 80%

åˆ†æ”¯è¦†ç›–ç‡ï¼ˆBranch Coverageï¼‰:
  å®šä¹‰: æ‰§è¡Œåˆ°çš„åˆ†æ”¯æ•° / æ€»åˆ†æ”¯æ•°
  æœ€ä½: 75%
  
  è¯´æ˜: æ‰€æœ‰if/elseåˆ†æ”¯éƒ½è¦æµ‹è¯•

å‡½æ•°è¦†ç›–ç‡ï¼ˆFunction Coverageï¼‰:
  å®šä¹‰: è°ƒç”¨çš„å‡½æ•°æ•° / æ€»å‡½æ•°æ•°
  æœ€ä½: 90%

è¯­å¥è¦†ç›–ç‡ï¼ˆStatement Coverageï¼‰:
  å®šä¹‰: æ‰§è¡Œçš„è¯­å¥æ•° / æ€»è¯­å¥æ•°
  æœ€ä½: 80%
```

---

## ğŸ§ª æµ‹è¯•ç±»å‹è§„èŒƒ

### å•å…ƒæµ‹è¯•ï¼ˆUnit Testï¼‰

**å®šä¹‰**: æµ‹è¯•å•ä¸ªå‡½æ•°/æ–¹æ³•/ç±»çš„åŠŸèƒ½

**èŒƒå›´**:
```yaml
å¿…é¡»æµ‹è¯•:
  - æ‰€æœ‰ public å‡½æ•°/æ–¹æ³•
  - æ‰€æœ‰ä¸šåŠ¡é€»è¾‘å‡½æ•°
  - æ‰€æœ‰å·¥å…·å‡½æ•°
  - æ‰€æœ‰æ•°æ®å¤„ç†å‡½æ•°

å¯ä»¥è·³è¿‡:
  - ç®€å•çš„ getter/setter
  - ä»…è°ƒç”¨å…¶ä»–å‡½æ•°çš„ wrapper
  - çº¯é…ç½®æ–‡ä»¶
  - ç±»å‹å®šä¹‰æ–‡ä»¶
```

**æµ‹è¯•æ–‡ä»¶ä½ç½®**:
```
test/{æ¨¡å—å}-unit.test.js
```

**æµ‹è¯•ç”¨ä¾‹ç»“æ„**:
```javascript
describe('UserService', () => {
  describe('getUserById', () => {
    it('should return user when id exists', async () => {
      // Arrange
      const userId = '123';
      const expectedUser = { id: '123', name: 'Test' };
      
      // Act
      const result = await userService.getUserById(userId);
      
      // Assert
      expect(result).toEqual(expectedUser);
    });
    
    it('should throw NotFoundError when id does not exist', async () => {
      // Arrange
      const userId = 'nonexistent';
      
      // Act & Assert
      await expect(
        userService.getUserById(userId)
      ).rejects.toThrow(NotFoundError);
    });
    
    it('should handle null id', async () => {
      // Arrange
      const userId = null;
      
      // Act & Assert
      await expect(
        userService.getUserById(userId)
      ).rejects.toThrow(ValidationError);
    });
  });
});
```

**å¿…é¡»æµ‹è¯•çš„åœºæ™¯**:
```yaml
æ­£å¸¸åœºæ™¯ï¼ˆHappy Pathï¼‰:
  - è¾“å…¥æœ‰æ•ˆæ•°æ®
  - é¢„æœŸè¿”å›æ­£ç¡®ç»“æœ

è¾¹ç•Œåœºæ™¯ï¼ˆEdge Casesï¼‰:
  - ç©ºå€¼: null, undefined, ''
  - é›¶å€¼: 0, [], {}
  - æœ€å¤§å€¼/æœ€å°å€¼
  - è¾¹ç•Œæ¡ä»¶

å¼‚å¸¸åœºæ™¯ï¼ˆError Casesï¼‰:
  - æ— æ•ˆè¾“å…¥
  - ç±»å‹é”™è¯¯
  - ä¸šåŠ¡è§„åˆ™è¿å
  - ç½‘ç»œé”™è¯¯
  - è¶…æ—¶

ç‰¹æ®Šåœºæ™¯:
  - å¹¶å‘æ“ä½œ
  - é‡å¤è°ƒç”¨
  - ç«æ€æ¡ä»¶
```

---

### é›†æˆæµ‹è¯•ï¼ˆIntegration Testï¼‰

**å®šä¹‰**: æµ‹è¯•å¤šä¸ªæ¨¡å—/ç»„ä»¶çš„åä½œ

**èŒƒå›´**:
```yaml
å¿…é¡»æµ‹è¯•:
  - æ¨¡å—é—´äº¤äº’
  - æ•°æ®åº“æ“ä½œ
  - å¤–éƒ¨APIè°ƒç”¨
  - æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
  - ç¼“å­˜æ“ä½œ
```

**æµ‹è¯•æ–‡ä»¶ä½ç½®**:
```
test/{æ¨¡å—å}-integration.test.js
```

**æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹**:
```javascript
describe('User Registration Flow', () => {
  beforeEach(async () => {
    // æ¸…ç†æ•°æ®åº“
    await db.clean();
  });
  
  it('should create user and send welcome email', async () => {
    // Arrange
    const userData = {
      email: 'test@example.com',
      password: 'Test123!',
      name: 'Test User'
    };
    
    // Act
    const user = await userService.register(userData);
    
    // Assert
    expect(user.id).toBeDefined();
    expect(user.email).toBe(userData.email);
    
    // éªŒè¯æ•°æ®åº“
    const dbUser = await db.users.findById(user.id);
    expect(dbUser).toBeDefined();
    
    // éªŒè¯é‚®ä»¶
    const emails = await emailService.getSentEmails();
    expect(emails).toHaveLength(1);
    expect(emails[0].to).toBe(userData.email);
  });
});
```

**å¿…é¡»æµ‹è¯•çš„åœºæ™¯**:
```yaml
æ•°æ®æµ:
  - æ•°æ®æ­£ç¡®ä¼ é€’
  - æ•°æ®æ ¼å¼è½¬æ¢
  - æ•°æ®éªŒè¯

äº‹åŠ¡:
  - æäº¤æˆåŠŸ
  - å›æ»šæ­£ç¡®
  - å¹¶å‘å®‰å…¨

ä¾èµ–:
  - ä¾èµ–æ­£å¸¸å·¥ä½œ
  - ä¾èµ–å¤±è´¥å¤„ç†
  - è¶…æ—¶å¤„ç†
```

---

### E2Eæµ‹è¯•ï¼ˆEnd-to-End Testï¼‰

**å®šä¹‰**: æµ‹è¯•å®Œæ•´çš„ç”¨æˆ·æµç¨‹

**èŒƒå›´**:
```yaml
å¿…é¡»æµ‹è¯•çš„æµç¨‹:
  - ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
  - æ ¸å¿ƒä¸šåŠ¡æµç¨‹
  - æ”¯ä»˜æµç¨‹
  - æ•°æ®æäº¤æµç¨‹

å»ºè®®æµ‹è¯•çš„æµç¨‹:
  - å¸¸è§ç”¨æˆ·è·¯å¾„
  - å…³é”®åŠŸèƒ½ç»„åˆ
```

**æµ‹è¯•æ–‡ä»¶ä½ç½®**:
```
test/{æ¨¡å—å}-e2e.test.js
```

**æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹**:
```javascript
describe('Order Creation Flow', () => {
  it('should complete full order process', async () => {
    // 1. ç™»å½•
    await page.goto('/login');
    await page.fill('#email', 'user@example.com');
    await page.fill('#password', 'password');
    await page.click('#login-btn');
    
    // 2. é€‰æ‹©å•†å“
    await page.goto('/products');
    await page.click('.product:first-child .add-to-cart');
    
    // 3. ç»“ç®—
    await page.goto('/checkout');
    await page.fill('#address', 'Test Address');
    await page.click('#submit-order');
    
    // 4. éªŒè¯
    await expect(page.locator('.success-message')).toBeVisible();
    const orderId = await page.locator('.order-id').textContent();
    expect(orderId).toMatch(/^ORD-\d+$/);
  });
});
```

---

### APIæµ‹è¯•

**å®šä¹‰**: æµ‹è¯•HTTPæ¥å£

**èŒƒå›´**:
```yaml
å¿…é¡»æµ‹è¯•:
  - æ‰€æœ‰ API ç«¯ç‚¹
  - å„ç§ HTTP æ–¹æ³•
  - è¯·æ±‚/å“åº”æ ¼å¼
  - çŠ¶æ€ç 
  - é”™è¯¯å¤„ç†
```

**æµ‹è¯•æ–‡ä»¶ä½ç½®**:
```
test/{æ¨¡å—å}-api.test.js
```

**æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹**:
```javascript
describe('User API', () => {
  describe('GET /api/users/:id', () => {
    it('should return user when id exists', async () => {
      const response = await request(app)
        .get('/api/users/123')
        .expect(200);
      
      expect(response.body).toMatchObject({
        id: '123',
        email: expect.any(String),
        name: expect.any(String)
      });
    });
    
    it('should return 404 when user not found', async () => {
      const response = await request(app)
        .get('/api/users/nonexistent')
        .expect(404);
      
      expect(response.body).toMatchObject({
        error: 'User not found',
        code: 'USER_NOT_FOUND'
      });
    });
    
    it('should return 400 for invalid id format', async () => {
      await request(app)
        .get('/api/users/invalid-id')
        .expect(400);
    });
  });
  
  describe('POST /api/users', () => {
    it('should create user with valid data', async () => {
      const userData = {
        email: 'new@example.com',
        password: 'Test123!',
        name: 'New User'
      };
      
      const response = await request(app)
        .post('/api/users')
        .send(userData)
        .expect(201);
      
      expect(response.body).toMatchObject({
        id: expect.any(String),
        email: userData.email,
        name: userData.name
      });
      expect(response.body.password).toBeUndefined();
    });
  });
});
```

**å¿…é¡»æµ‹è¯•çš„åœºæ™¯**:
```yaml
HTTPæ–¹æ³•:
  - GET: è·å–æ•°æ®
  - POST: åˆ›å»ºæ•°æ®
  - PUT/PATCH: æ›´æ–°æ•°æ®
  - DELETE: åˆ é™¤æ•°æ®

çŠ¶æ€ç :
  - 200: æˆåŠŸ
  - 201: åˆ›å»ºæˆåŠŸ
  - 400: è¯·æ±‚é”™è¯¯
  - 401: æœªè®¤è¯
  - 403: æ— æƒé™
  - 404: ä¸å­˜åœ¨
  - 500: æœåŠ¡å™¨é”™è¯¯

è®¤è¯æˆæƒ:
  - æ— tokenè®¿é—®
  - æ— æ•ˆtoken
  - è¿‡æœŸtoken
  - æƒé™ä¸è¶³

æ•°æ®éªŒè¯:
  - å¿…å¡«å­—æ®µ
  - å­—æ®µç±»å‹
  - å­—æ®µæ ¼å¼
  - å­—æ®µé•¿åº¦
```

---

### åŸºå‡†æµ‹è¯•ï¼ˆBenchmark Testï¼‰

**å®šä¹‰**: æµ‹è¯•æ€§èƒ½æŒ‡æ ‡

**èŒƒå›´**:
```yaml
å¿…é¡»æµ‹è¯•:
  - æ ¸å¿ƒç®—æ³•æ€§èƒ½
  - æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½
  - APIå“åº”æ—¶é—´
  - å¹¶å‘å¤„ç†èƒ½åŠ›
```

**æµ‹è¯•æ–‡ä»¶ä½ç½®**:
```
test/{æ¨¡å—å}-benchmark.test.js
```

**æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹**:
```javascript
describe('Performance Benchmarks', () => {
  it('should process 1000 items in under 100ms', async () => {
    const items = generateTestData(1000);
    
    const startTime = Date.now();
    const result = await processor.processItems(items);
    const endTime = Date.now();
    
    const duration = endTime - startTime;
    expect(duration).toBeLessThan(100);
  });
  
  it('should handle 100 concurrent requests', async () => {
    const requests = Array(100).fill(null).map(() =>
      request(app).get('/api/data')
    );
    
    const startTime = Date.now();
    await Promise.all(requests);
    const endTime = Date.now();
    
    const duration = endTime - startTime;
    expect(duration).toBeLessThan(1000);
  });
});
```

**æ€§èƒ½æŒ‡æ ‡**:
```yaml
å“åº”æ—¶é—´:
  ä¼˜ç§€: < 50ms
  è‰¯å¥½: 50-100ms
  å¯æ¥å—: 100-500ms
  è­¦å‘Š: > 500ms

ååé‡:
  ä¼˜ç§€: > 1000 req/s
  è‰¯å¥½: 500-1000 req/s
  å¯æ¥å—: 100-500 req/s
  è­¦å‘Š: < 100 req/s

å†…å­˜ä½¿ç”¨:
  ä¼˜ç§€: < 100MB
  è‰¯å¥½: 100-500MB
  è­¦å‘Š: > 500MB
```

---

## ğŸ“ æµ‹è¯•å‘½åè§„èŒƒ

### æµ‹è¯•æ–‡ä»¶å‘½å

```yaml
æ ¼å¼: {æ¨¡å—å}-{ç±»å‹}.test.{ext}

ç¤ºä¾‹:
  user-auth-unit.test.js
  order-integration.test.js
  payment-e2e.test.js
  api-api.test.js
  search-benchmark.test.js

ç¦æ­¢:
  userAuth.test.js
  user_auth_test.js
  test-user-auth.js
```

### æµ‹è¯•ç”¨ä¾‹å‘½å

```yaml
æ ¼å¼: should {action} when {condition}

ç¤ºä¾‹:
  âœ… å¥½çš„å‘½å:
    it('should return user when id exists')
    it('should throw error when password is invalid')
    it('should update status when payment succeeds')
  
  âŒ ä¸å¥½çš„å‘½å:
    it('test user')
    it('getUserById')
    it('works correctly')

describeå‘½å:
  æ ¼å¼: æ¨¡å—å/ç±»å/å‡½æ•°å
  
  ç¤ºä¾‹:
    describe('UserService', () => {
      describe('getUserById', () => {
        it('should...')
      })
    })
```

---

## ğŸ› ï¸ æµ‹è¯•å·¥å…·å’Œæ¡†æ¶

### æ¨èå·¥å…·

```yaml
JavaScript/TypeScript:
  æµ‹è¯•æ¡†æ¶: Jest, Mocha
  æ–­è¨€åº“: Jest (å†…ç½®), Chai
  Mockå·¥å…·: Jest (å†…ç½®), Sinon
  E2Eå·¥å…·: Playwright, Cypress
  è¦†ç›–ç‡: Jest (å†…ç½®), NYC
  
Python:
  æµ‹è¯•æ¡†æ¶: pytest, unittest
  Mockå·¥å…·: unittest.mock, pytest-mock
  è¦†ç›–ç‡: pytest-cov
  
HTTPæµ‹è¯•:
  supertest (Node.js)
  requests (Python)
```

### Mockè§„èŒƒ

```yaml
ä»€ä¹ˆæ—¶å€™Mock:
  å¿…é¡»Mock:
    - å¤–éƒ¨APIè°ƒç”¨
    - æ•°æ®åº“æ“ä½œï¼ˆå•å…ƒæµ‹è¯•ï¼‰
    - æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
    - æ—¶é—´ç›¸å…³æ“ä½œ
    - éšæœºæ•°ç”Ÿæˆ
  
  ä¸åº”è¯¥Mock:
    - è¢«æµ‹è¯•çš„ä»£ç 
    - ç®€å•çš„å·¥å…·å‡½æ•°
    - å¸¸é‡å’Œé…ç½®

Mockç¤ºä¾‹:
  // Mock å¤–éƒ¨API
  jest.mock('axios');
  axios.get.mockResolvedValue({ data: mockData });
  
  // Mock æ•°æ®åº“
  jest.mock('./database');
  database.query.mockResolvedValue(mockResult);
  
  // Mock æ—¶é—´
  jest.useFakeTimers();
  jest.setSystemTime(new Date('2025-01-01'));
```

---

## âœ… æµ‹è¯•è´¨é‡æ£€æŸ¥

### æµ‹è¯•ä»£ç è´¨é‡

```yaml
å¿…é¡»éµå®ˆ:
  - æµ‹è¯•ä»£ç ä¹Ÿè¦éµå®ˆä»£ç è§„èŒƒ
  - æµ‹è¯•è¦æ¸…æ™°æ˜“æ‡‚
  - é¿å…æµ‹è¯•ä¹‹é—´ç›¸äº’ä¾èµ–
  - æ¯ä¸ªæµ‹è¯•åªæµ‹è¯•ä¸€ä»¶äº‹
  - ä½¿ç”¨æœ‰æ„ä¹‰çš„æµ‹è¯•æ•°æ®

æµ‹è¯•ç»“æ„ (AAAæ¨¡å¼):
  Arrange (å‡†å¤‡):
    - è®¾ç½®æµ‹è¯•æ•°æ®
    - é…ç½®mock
    - åˆå§‹åŒ–çŠ¶æ€
  
  Act (æ‰§è¡Œ):
    - è°ƒç”¨è¢«æµ‹å‡½æ•°
    - æ‰§è¡Œæ“ä½œ
  
  Assert (æ–­è¨€):
    - éªŒè¯ç»“æœ
    - æ£€æŸ¥å‰¯ä½œç”¨
    - ç¡®è®¤çŠ¶æ€å˜åŒ–
```

### æµ‹è¯•ç‹¬ç«‹æ€§

```yaml
åŸåˆ™: æ¯ä¸ªæµ‹è¯•åº”è¯¥ç‹¬ç«‹è¿è¡Œ

é¿å…:
  âŒ æµ‹è¯•é¡ºåºä¾èµ–:
    it('test 1', () => {
      globalState.value = 1;
    });
    
    it('test 2', () => {
      expect(globalState.value).toBe(1);  // ä¾èµ–test 1
    });
  
  âœ… æ­£ç¡®åšæ³•:
    beforeEach(() => {
      globalState.value = 1;
    });
    
    it('test 2', () => {
      expect(globalState.value).toBe(1);
    });

æ¸…ç†èµ„æº:
  afterEach(async () => {
    await db.clean();
    await cache.clear();
    jest.clearAllMocks();
  });
```

---

## ğŸ“Š æµ‹è¯•æŠ¥å‘Š

### æµ‹è¯•ç»“æœæ ¼å¼

```yaml
å¿…é¡»åŒ…å«:
  - æµ‹è¯•é€šè¿‡/å¤±è´¥æ•°é‡
  - æµ‹è¯•è¦†ç›–ç‡
  - å¤±è´¥çš„æµ‹è¯•è¯¦æƒ…
  - æµ‹è¯•æ‰§è¡Œæ—¶é—´

æŠ¥å‘Šç¤ºä¾‹:
  Test Suites: 5 passed, 5 total
  Tests:       42 passed, 42 total
  Snapshots:   0 total
  Time:        5.234s
  
  Coverage:
    Statements   : 85.23% ( 245/287 )
    Branches     : 78.45% ( 112/143 )
    Functions    : 91.67% ( 55/60 )
    Lines        : 84.89% ( 235/277 )
```

### å¤±è´¥æµ‹è¯•å¤„ç†

```yaml
IF: æµ‹è¯•å¤±è´¥
THEN:
  1. è®°å½•è¯¦ç»†é”™è¯¯ä¿¡æ¯
  2. è®°å½•å †æ ˆè·Ÿè¸ª
  3. è®°å½•æµ‹è¯•è¾“å…¥æ•°æ®
  4. è®°å½•é¢„æœŸè¾“å‡º
  5. è®°å½•å®é™…è¾“å‡º
  
  æä¾›é€‰é¡¹:
    A) ä¿®å¤ä»£ç 
    B) ä¿®å¤æµ‹è¯•
    C) æ ‡è®°ä¸ºå·²çŸ¥é—®é¢˜ (SKIP)
```

---

## ğŸ¯ æµ‹è¯•ç­–ç•¥

### æµ‹è¯•é‡‘å­—å¡”

```yaml
æ¯”ä¾‹åˆ†é…:
  å•å…ƒæµ‹è¯•: 70%
  é›†æˆæµ‹è¯•: 20%
  E2Eæµ‹è¯•: 10%

åŸå› :
  - å•å…ƒæµ‹è¯•å¿«é€Ÿã€ç¨³å®šã€æ˜“ç»´æŠ¤
  - é›†æˆæµ‹è¯•è¦†ç›–æ¨¡å—åä½œ
  - E2Eæµ‹è¯•è¦†ç›–å…³é”®æµç¨‹

æŠ•å…¥äº§å‡º:
  å•å…ƒæµ‹è¯•: æˆæœ¬ä½ã€ä»·å€¼é«˜
  é›†æˆæµ‹è¯•: æˆæœ¬ä¸­ã€ä»·å€¼ä¸­
  E2Eæµ‹è¯•: æˆæœ¬é«˜ã€ä»·å€¼é«˜ï¼ˆå…³é”®æµç¨‹ï¼‰
```

### ä»€ä¹ˆæ—¶å€™å†™æµ‹è¯•

```yaml
TDD (æµ‹è¯•é©±åŠ¨å¼€å‘) - ä¸æ¨è:
  æµç¨‹: å…ˆå†™æµ‹è¯• â†’ å†å†™ä»£ç 
  
ä¼ ç»Ÿæ¨¡å¼ - æ¨è:
  æµç¨‹: å…ˆå†™ä»£ç  â†’ å†å†™æµ‹è¯•
  
  åŸå› :
    - ç¬¦åˆå®é™…å¼€å‘æµç¨‹
    - ä»£ç å®Œæˆåæ›´å®¹æ˜“å†™æµ‹è¯•
    - å¯ä»¥æ ¹æ®å®é™…ä»£ç è°ƒæ•´æµ‹è¯•

æ—¶æœº:
  STEP 11: ç¼–å†™æµ‹è¯•ç”¨ä¾‹
  ä½ç½®: ä»£ç å¼€å‘å®Œæˆåï¼Œç”¨æˆ·ç¡®è®¤ä»£ç å
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### é¿å…çš„åæ¨¡å¼

```yaml
âŒ æµ‹è¯•å®ç°ç»†èŠ‚:
  // ä¸å¥½ - æµ‹è¯•å†…éƒ¨å®ç°
  expect(obj._privateMethod).toHaveBeenCalled();
  
  // å¥½ - æµ‹è¯•å…¬å¼€è¡Œä¸º
  expect(obj.getResult()).toBe(expected);

âŒ è¿‡åº¦Mock:
  // ä¸å¥½ - mockä¸€åˆ‡
  jest.mock('./utils');
  jest.mock('./helpers');
  jest.mock('./validators');
  
  // å¥½ - åªmockå¿…è¦çš„å¤–éƒ¨ä¾èµ–
  jest.mock('axios');

âŒ è„†å¼±çš„æµ‹è¯•:
  // ä¸å¥½ - ä¾èµ–å…·ä½“æ•°å­—
  expect(result.length).toBe(5);
  
  // å¥½ - æµ‹è¯•è¡Œä¸º
  expect(result).toContain(expectedItem);

âŒ æµ‹è¯•è¿‡å¤§:
  it('should do everything', () => {
    // 100 lines of test code
  });
  
  // å¥½ - æ‹†åˆ†ä¸ºå¤šä¸ªå°æµ‹è¯•
  it('should do A', () => { /* ... */ });
  it('should do B', () => { /* ... */ });
```

---

**æ–‡ä»¶åˆ›å»º**: 2025-11-20  
**æœ€åæ›´æ–°**: 2025-11-20  
**çŠ¶æ€**: âœ… å®Œæ•´

