# copilot-instructions.md 与 v2.md 联动分配深度分析

> **分析日期**: 2025-11-10  
> **分析角色**: AI 大模型使用者视角  
> **分析目的**: 评估两个文件的职责划分是否合理，提出优化建议

---

## 🎯 执行摘要

### 核心发现

| 维度 | 评分 | 说明 |
|------|------|------|
| **职责划分** | ⭐⭐⭐⭐☆ (4/5) | 基本合理，但存在重复内容 |
| **信息密度** | ⭐⭐⭐☆☆ (3/5) | copilot 过于冗长，v2.md 过于简洁 |
| **查找效率** | ⭐⭐⭐⭐☆ (4/5) | copilot 快速查询好，但内容太多 |
| **维护成本** | ⭐⭐☆☆☆ (2/5) | 两个文件需要同步维护，容易不一致 |
| **实际可用性** | ⭐⭐⭐⭐☆ (4/5) | 作为 AI 能理解，但人类维护困难 |

**总体评价**: ⭐⭐⭐☆☆ (3.4/5) - **需要优化**

---

## 📊 详细分析

### 1. 职责划分分析

#### 当前设计意图

| 文件 | 设计意图 | 实际使用场景 |
|------|---------|------------|
| **copilot-instructions.md** | 快速决策树、检查清单 | AI 首次接收任务时查询 |
| **v2.md** | 详细规范、完整流程 | AI 执行具体任务时参考 |

#### 问题发现 ❌

##### 问题 1: 场景 0 内容高度重复

**copilot-instructions.md 场景 0**:
```yaml
STEP 1: 识别项目名称
  - 从用户请求中识别（chat/user/push...）
  - 从当前工作目录推断
  - 如无法识别，询问用户

STEP 2: 读取项目 Profile
  - 🔴 必须读取: guidelines/profiles/<project>.md
  - 🔴 必须完整通读
  - 🔴 重点关注"禁止"、"强制"关键词

STEP 3: 提取强制规范
  [ ] 架构禁止项
  [ ] 验证方式
  [ ] 测试框架
  [ ] 数据库操作
  [ ] 注释语言

STEP 4: 冲突检查
  IF: Profile规范 与 通用实践 冲突
  THEN: 无条件遵守 Profile

STEP 5: 自我检查（5个核心问题）
  1-5. ...
```

**v2.md 场景 0**:
```yaml
STEP 1: 识别项目名称
  - 从用户请求中识别（chat/user/push...）
  - 从当前工作目录推断
  - 如无法识别，询问用户

STEP 2: 读取项目 Profile
  - 🔴 必须读取: guidelines/profiles/<project>.md
  - 🔴 必须完整通读
  - 🔴 重点关注"禁止"、"强制"关键词

STEP 3: 提取强制规范
  [ ] 架构禁止项
  [ ] 验证方式
  [ ] 测试框架
  [ ] 数据库操作
  [ ] 注释语言

STEP 4: 冲突检查
  IF: Profile规范 与 通用实践 冲突
  THEN: 无条件遵守 Profile

STEP 5: 自我检查（5个核心问题）
  1-5. ...
```

**重复度**: 🔴 **95%** - 几乎完全相同

**问题**: 维护两份相同内容，容易导致不一致

---

##### 问题 2: 场景 A-E 的引用关系混乱

**copilot-instructions.md 场景 A**:
```yaml
1. 🔴 [强制] 添加测试用例
   → 读取 guidelines/guidelines/v2.md#31-功能添加完整流程
```

**v2.md 场景 A**:
```yaml
1. 🔴 编写测试 → test/<功能>.test.js (正常+异常+边界)
**详细规范**: [第3.1章](#31-功能添加完整流程)
```

**问题**: 
- copilot 说"读取 v2.md"，但没有详细内容
- v2.md 说"详细规范在第3.1章"，但场景A本身不够详细
- AI 需要**跳转两次**才能找到真正的详细内容

**建议**: 场景描述应该在一个地方足够详细，另一个地方简化引用

---

##### 问题 3: 执行检查清单位置不当

**copilot-instructions.md**:
```
## ✅ 执行检查清单 (按执行顺序)

### 阶段 0: 项目规范确认
### 阶段 1: 任务开始前
### 阶段 2: 代码修改时
### 阶段 3: 测试与示例
### 阶段 4: 文档更新
### 阶段 5: 提交前验证
```

**v2.md**:
- 第21章有详细的"验证与测试策略"
- 但没有完整的"执行检查清单"

**问题**: 
- copilot 的检查清单是横向的（按阶段）
- v2.md 的验证策略是纵向的（按场景）
- 两者视角不同，AI 容易混淆

---

### 2. 信息密度分析

#### copilot-instructions.md 信息密度

**文件大小**: ~1000 行  
**实际有效信息**: 约 400 行  
**信息密度**: ⭐⭐⭐☆☆ (3/5)

**冗余内容**:
1. ❌ 场景 0 的 5 步流程过于详细（可简化）
2. ❌ 每个场景都有"强制执行"代码块（可合并）
3. ❌ 大量示例代码（应该在 v2.md）
4. ❌ 禁止操作清单重复（与场景内容重复）

**建议简化**:
```yaml
# 当前（冗余）
场景 0: 项目规范强制检查
  STEP 1: 识别项目名称（3行说明）
  STEP 2: 读取项目 Profile（3行说明）
  STEP 3: 提取强制规范（10行清单）
  STEP 4: 冲突检查（5行示例）
  STEP 5: 自我检查（5个问题）

# 建议（简化）
场景 0: 项目规范强制检查
  必读: guidelines/profiles/<project>.md
  提取: 禁止项、强制项、技术栈
  原则: 项目规范 > 通用实践
  自检: 5个核心问题（见 v2.md 场景0）
```

---

#### v2.md 信息密度

**文件大小**: ~2000 行  
**场景部分大小**: 约 200 行  
**详细章节大小**: 约 1800 行  
**信息密度**: ⭐⭐⭐⭐☆ (4/5)

**不足之处**:
1. ❌ 场景 0-E 的内容过于简洁
2. ❌ 引用第X章，但跳转后仍需继续查找
3. ❌ 缺少完整的"执行检查清单"（仅有场景触发器）

**优点**:
1. ✅ 20个章节组织清晰
2. ✅ 每个章节聚焦单一主题
3. ✅ 详细内容充足

---

### 3. 查找效率分析

#### AI 查找路径模拟

##### 场景 1: 用户要求"实现消息设置功能"

**期望路径**:
```
1. 读取 copilot-instructions.md
2. 识别为"场景 0 + 场景 A"
3. 执行场景 0（读取 Profile）
4. 执行场景 A（查看 v2.md 第3.1章）
5. 开始实现
```

**实际路径**（当前设计）:
```
1. 读取 copilot-instructions.md (1000行)
2. 找到场景 0（第100行左右）
3. 读取完整的场景 0（50行）
4. 找到场景 A（第200行左右）
5. 看到"读取 v2.md#31"
6. 打开 v2.md
7. 找到场景 A（第150行）
8. 看到"详细规范: 第3.1章"
9. 找到第3.1章（第500行）
10. 读取详细规范
11. 开始实现
```

**跳转次数**: 🔴 **10次**（过多）

**优化建议**: 🟢 **3次**
```
1. 读取 copilot-instructions.md 快速索引
2. 识别场景 → 直接跳转 v2.md 对应章节
3. 读取详细规范 → 开始实现
```

---

##### 场景 2: 用户要求"查询 chat 项目数据"

**期望路径**:
```
1. 识别为数据库查询任务
2. 读取 chat Profile 的 MCP 配置
3. 调用 mongodb-chat
4. 返回结果
```

**实际路径**（当前设计）:
```
1. 读取 copilot-instructions.md
2. 找到 MCP 配置强制检查（第50行）
3. 读取流程（10行）
4. 打开 profiles/chat.md
5. 找到 MCP 配置章节
6. 确认允许 mongodb-chat
7. 调用 MCP
8. 返回结果
```

**跳转次数**: 🟢 **8次**（合理）

---

### 4. 维护成本分析

#### 当前维护负担

| 修改场景 | 需要同步的位置 | 维护成本 |
|---------|--------------|---------|
| 新增场景 | copilot 场景触发器 + v2.md 场景触发器 + 目录 | 🔴 高 |
| 修改场景规则 | copilot 场景描述 + v2.md 场景描述 | 🔴 高 |
| 新增检查清单 | copilot 阶段定义 + v2.md 验证策略 | 🟠 中 |
| 修改优先级 | copilot 核心原则 + v2.md 立即执行规则 | 🟠 中 |
| 新增详细章节 | 仅 v2.md | 🟢 低 |

**问题**: 场景相关内容需要在两个文件中同步，容易遗漏

**统计**:
- 场景 0-E（6个场景）× 2个文件 = **12处需要维护**
- 每次修改场景规则，需要检查 **12处**
- 容易出现**版本不一致**

---

#### 维护错误案例模拟

**案例**: 修改场景 A 的强制规则（添加"运行 lint"）

**步骤**:
1. 修改 copilot-instructions.md 场景 A（✅ 已完成）
2. 修改 v2.md 场景 A（❌ 忘记修改）
3. AI 读取 copilot 时看到"运行 lint"
4. AI 读取 v2.md 时没看到"运行 lint"
5. **结果**: AI 困惑，不知道是否必须运行 lint

---

### 5. 实际可用性分析（AI 视角）

#### 优点 ✅

1. **职责明确**:
   - copilot = 快速决策
   - v2.md = 详细规范
   
2. **优先级清晰**:
   - 🔴 强制 > 🟠 必须 > 🟡 推荐 > 🟢 可选
   
3. **引用关系完整**:
   - copilot → v2.md
   - v2.md → copilot
   - 双向引用
   
4. **场景触发器实用**:
   - IF-THEN 规则清晰
   - 覆盖常见场景

#### 缺点 ❌

1. **内容重复**:
   - 场景 0 几乎完全重复
   - 优先级声明重复
   
2. **跳转过多**:
   - copilot → v2.md 场景 → v2.md 章节
   - 3次跳转才能找到详细内容
   
3. **信息冗余**:
   - copilot 过于详细（1000行）
   - AI 需要读很多内容才能找到关键信息
   
4. **维护困难**:
   - 需要同步两个文件
   - 容易出现不一致

---

## 💡 优化建议

### 建议 1: 重新划分职责（推荐度 ⭐⭐⭐⭐⭐）

#### 方案 A: 极简 copilot + 详细 v2.md（推荐）

**copilot-instructions.md（极简版，约300行）**:
```markdown
# AI 助手执行规范 v3.0

> **角色**: 智能执行代理
> **原则**: 项目规范 > 通用实践

## 🚀 快速决策流程

1. 🔴 读取项目 Profile → guidelines/profiles/<project>.md
2. 🔴 识别场景 → 见下方场景索引
3. 🔴 跳转 v2.md 对应章节 → 读取详细规范
4. ✅ 执行任务

## 📑 场景索引（快速跳转）

| 场景 | 触发条件 | 跳转位置 |
|------|---------|---------|
| 场景 0 | 任何代码任务 | [v2.md 场景0](guidelines/v2.md#场景0) |
| 场景 A | 功能新增/修改 | [v2.md 场景A](guidelines/v2.md#场景A) |
| 场景 B | Bug修复 | [v2.md 场景B](guidelines/v2.md#场景B) |
| 场景 C | 大规模编辑 | [v2.md 场景C](guidelines/v2.md#场景C) |
| 场景 D | 代码审查 | [v2.md 场景D](guidelines/v2.md#场景D) |
| 场景 E | 文档更新 | [v2.md 场景E](guidelines/v2.md#场景E) |

## 🔴 核心原则（必读）

1. **项目规范绝对优先**: Profile 🔴 > v2.md 🟠 > 通用实践 🟡
2. **场景 0 强制前置**: 任何代码任务前必读 Profile
3. **5个核心问题**: 见 v2.md 场景0

## 🚨 禁止操作（红线）

- ❌ 未读 Profile 就写代码
- ❌ 使用项目禁止的技术
- ❌ 认为通用实践优于项目规范
- ❌ 跳过测试/示例/文档

---

详细规范请阅读: [guidelines/v2.md](guidelines/v2.md)
```

**优点**:
- ✅ 文件从 1000行 → 300行（减少 70%）
- ✅ 快速定位（场景索引表）
- ✅ 减少重复（场景详情在 v2.md）
- ✅ 维护简单（仅维护索引）

**v2.md（增强版，约2500行）**:
- 场景 0-E 详细描述（每个场景 50-100行）
- 20个详细章节（保持不变）
- 执行检查清单（横向 + 纵向）

**优点**:
- ✅ 场景详情集中在一处
- ✅ 避免重复维护
- ✅ AI 跳转次数减少（1次）

---

#### 方案 B: 合并为单一文件（不推荐）

**guidelines/ai-instructions.md（约2000行）**:
- 第1部分: 快速决策流程
- 第2部分: 场景触发器
- 第3部分: 详细章节

**优点**:
- ✅ 无需跳转
- ✅ 无需同步维护

**缺点**:
- ❌ 文件过大（2000行）
- ❌ 查找困难
- ❌ 不符合"关注点分离"原则

---

### 建议 2: 统一场景描述格式（推荐度 ⭐⭐⭐⭐⭐）

#### 当前格式（不一致）

**copilot-instructions.md**:
```yaml
### 场景 A: 新增/修改功能
触发条件: ...
强制执行:
  1. 读取 v2.md#31
  2. 添加测试
```

**v2.md**:
```yaml
### 场景 A: 功能新增/修改
触发条件: ...
强制执行顺序:
  1. 编写测试
详细规范: [第3.1章]
```

**问题**: 标题不同、结构不同、内容不同

---

#### 统一格式（建议）

**copilot-instructions.md（索引版）**:
```markdown
| 场景 A | 功能新增/修改 | 修改代码 | [v2.md 场景A](v2.md#场景A) |
```

**v2.md（详细版）**:
```markdown
### 场景 A: 功能新增/修改

**触发条件**:
- 修改 src/lib/ 代码
- 新增/修改 API

**强制执行流程**（🔴 = 强制，🟠 = 必须，🟡 = 推荐）:

1. 🔴 **项目规范检查** → 执行场景 0（如未执行）
2. 🔴 **编写测试** → test/<功能>.test.js
   - 正常路径测试
   - 异常路径测试
   - 边界条件测试
3. 🔴 **提供示例** → examples/<功能>.examples.js
   - 可独立运行
   - 包含详细注释
4. 🔴 **更新 CHANGELOG** → [Unreleased] 章节
   - 格式: `- [类型] 简短描述`
5. 🟠 **更新 README** → 如果 API 变更
6. 🟡 **更新类型声明** → index.d.ts（TypeScript项目）
7. 🔴 **运行验证** → npm test && node examples/<功能>.examples.js

**详细规范**:
- 测试规范: [第7章](#7-测试与质量)
- 示例规范: [第18章](#18-功能示例目录)
- 文档规范: [第5章](#5-文档与版本策略)

**禁止操作**:
- ❌ 未添加测试就提交代码
- ❌ 示例无法独立运行
- ❌ 修改 API 但不更新文档

**验证清单**:
- [ ] 所有测试通过
- [ ] 示例可运行
- [ ] CHANGELOG 已更新
- [ ] README 已同步（如需要）
- [ ] 无敏感信息泄露
```

**优点**:
- ✅ 自包含（无需跳转到第X章）
- ✅ 结构清晰（触发→执行→详细→禁止→验证）
- ✅ 优先级明确（🔴🟠🟡）

---

### 建议 3: 减少场景 0 重复（推荐度 ⭐⭐⭐⭐⭐）

#### 当前状态（重复）

- copilot: 场景 0 完整版（50行）
- v2.md: 场景 0 完整版（50行）
- 重复度: 95%

#### 优化方案

**copilot-instructions.md（引用版）**:
```markdown
### 场景 0: 项目规范强制检查

**核心原则**: 项目规范 > 通用最佳实践

**5步流程**: 见 [v2.md 场景0](v2.md#场景0)

**快速记忆**:
1. 读取 Profile
2. 提取禁止项
3. 冲突时选 Profile
4. 5个问题自检
5. 不确定就重读

**详细流程**: [v2.md 场景0](v2.md#场景0)
```

**v2.md（详细版）**:
```markdown
### 场景 0: 项目规范强制检查

**触发条件**: 任何代码实现任务

**强制执行流程**:

#### STEP 1: 识别项目名称
从用户请求或工作目录识别项目:
- chat, user, push, resource, search, payment
- 如无法识别，询问用户

#### STEP 2: 读取项目 Profile
🔴 必须完整读取: `guidelines/profiles/<project>.md`

重点关注章节:
- "架构与技术栈强制规范"
- "禁止"、"强制"、"必须"等关键词

#### STEP 3: 提取强制规范
记录以下信息:
- [ ] 架构禁止项: Service层/Repository层/DTO类？
- [ ] 验证方式: Joi/class-validator/其他？
- [ ] 测试框架: Mocha/Jest/其他？
- [ ] 数据库操作: utilsCrud/Mongoose/TypeORM？
- [ ] 注释语言: 中文/英文？
- [ ] 其他特定要求

#### STEP 4: 冲突检查
**规则**: Profile 规范 与 通用实践冲突时，无条件遵守 Profile

**示例**:
| Profile 规范 | 通用最佳实践 | AI 选择 |
|-------------|------------|--------|
| 禁止 Service 层 | 推荐 Service 层 | ✅ 遵守 Profile（禁止）|
| 强制 Joi | 推荐 class-validator | ✅ 遵守 Profile（Joi）|
| 强制 Mocha | 推荐 Jest | ✅ 遵守 Profile（Mocha）|

#### STEP 5: 自我检查（5个核心问题）
在开始写代码前必须确认:

1. ❓ "我是否已读取项目 Profile？" → 必须 YES
2. ❓ "我是否知道项目禁止什么？" → 必须 YES
3. ❓ "我是否会使用项目禁止的技术？" → 必须 NO
4. ❓ "我是否优先项目规范而非通用实践？" → 必须 YES
5. ❓ "我是否需要重新读取 Profile？" → 如前4个有问题，必须 YES

⚠️ **如任何一项不符合，立即停止，重新执行 STEP 1-4**

**禁止行为**:
- ❌ 未读 Profile 就开始写代码
- ❌ 读取 Profile 但忽略"禁止"条款
- ❌ 认为"通用最佳实践"优于"项目规范"
- ❌ 自作主张"优化"项目架构

**相关章节**:
- [项目 Profile 目录](../profiles/)
- [Profile 选择策略](#2-profile-选择策略)
```

---

### 建议 4: 引入"场景决策矩阵"（推荐度 ⭐⭐⭐⭐☆）

#### 问题

AI 需要手动判断是哪个场景，容易混淆

#### 解决方案

**copilot-instructions.md 添加决策矩阵**:

```markdown
## 📊 场景决策矩阵（快速识别）

| 用户请求关键词 | 场景 | 跳转 |
|--------------|------|------|
| "实现"、"添加"、"新增"功能 | 场景 A | [v2.md 场景A](v2.md#场景A) |
| "修改"、"改进"、"优化"代码 | 场景 A | [v2.md 场景A](v2.md#场景A) |
| "Bug"、"错误"、"异常"、"不工作" | 场景 B | [v2.md 场景B](v2.md#场景B) |
| "删除"、"重构"、">100行" | 场景 C | [v2.md 场景C](v2.md#场景C) |
| "审查"、"检查"、"优化" | 场景 D | [v2.md 场景D](v2.md#场景D) |
| "更新文档"、"修改 README" | 场景 E | [v2.md 场景E](v2.md#场景E) |
| "查询"、"分析"、"统计"数据 | 场景 G | [v2.md 场景G](v2.md#场景G) |

**注意**: 所有场景前必须先执行 [场景 0](v2.md#场景0)
```

**优点**:
- ✅ AI 快速识别场景
- ✅ 减少误判
- ✅ 一键跳转详细规范

---

### 建议 5: 增加"常见错误与纠正"章节（推荐度 ⭐⭐⭐⭐☆）

#### 问题

AI 仍然会犯错（如使用 Service 层），需要快速纠正机制

#### 解决方案

**v2.md 添加新章节**:

```markdown
## 🚨 常见错误与快速纠正

> **用途**: AI 发现错误后的快速查询手册

### 错误 1: 使用了项目禁止的 Service 层

**症状**:
- 创建了 `app/service/xxx.service.ts` 文件
- Controller 中调用 `await this.xxxService.xxx()`

**根本原因**:
- 未执行场景 0（项目规范检查）
- 或读取 Profile 但忽略了"禁止 Service 层"条款

**纠正步骤**:
1. ✅ 删除 `app/service/xxx.service.ts`
2. ✅ 将 Service 逻辑移到 Controller
3. ✅ 将可复用逻辑提取到 `app/utils/` 目录
4. ✅ 使用 `ctx.utilsCrud` 操作数据库
5. ✅ 重新执行场景 0，确认理解项目规范

**预防措施**:
- 🔴 任何代码任务前必须执行场景 0
- 🔴 Profile 中明确写"禁止 Service 层"
- 🔴 5个核心问题自检

---

### 错误 2: 使用了 class-validator 而非 Joi

**症状**:
- 导入了 `class-validator`
- 定义了 DTO 类
- 使用了 `@IsString()` 等装饰器

**根本原因**:
- 未读取 Profile 的"参数验证强制规范"
- 或读取但优先了通用最佳实践

**纠正步骤**:
1. ✅ 删除 DTO 类定义
2. ✅ 在 Controller 中直接使用 Joi
3. ✅ 使用 `ctx.Joi` 定义验证规则
4. ✅ 使用 `ctx.validateJoi()` 进行校验
5. ✅ 重新阅读 Profile 的"参数验证强制规范"

**预防措施**:
- 🔴 场景 0 STEP 3 必须提取"验证方式"
- 🔴 Profile 中明确写"强制 Joi"
- 🔴 冲突时无条件选择 Profile 规范

---

### 错误 3: 使用了 Jest 而非 Mocha

**症状**:
- 导入了 `@jest/globals`
- 使用了 `describe`, `it`, `expect` from Jest

**根本原因**:
- 未读取 Profile 的"测试框架强制规范"

**纠正步骤**:
1. ✅ 删除 Jest 相关导入
2. ✅ 使用 `require('mocha')` 和 `require('chai')`
3. ✅ 修改测试语法（Jest → Mocha）
4. ✅ 重新阅读 Profile 的"测试框架强制规范"

**预防措施**:
- 🔴 场景 0 STEP 3 必须提取"测试框架"
- 🔴 Profile 中明确写"强制 Mocha"
```

**优点**:
- ✅ AI 快速定位错误原因
- ✅ 提供明确的纠正步骤
- ✅ 预防未来再犯

---

## 📋 优化方案对比

| 方案 | 优点 | 缺点 | 推荐度 |
|------|------|------|-------|
| **方案 A: 极简 copilot + 详细 v2.md** | 减少重复、维护简单、跳转少 | 需要重构 | ⭐⭐⭐⭐⭐ |
| **方案 B: 合并单一文件** | 无需跳转、无需同步 | 文件过大、查找困难 | ⭐⭐☆☆☆ |
| **统一场景格式** | 结构清晰、自包含 | 工作量大 | ⭐⭐⭐⭐⭐ |
| **减少场景 0 重复** | 避免维护两份 | 需要跳转 | ⭐⭐⭐⭐⭐ |
| **场景决策矩阵** | 快速识别场景 | 需要维护关键词 | ⭐⭐⭐⭐☆ |
| **常见错误章节** | 快速纠错 | 需要积累错误案例 | ⭐⭐⭐⭐☆ |

---

## 🎯 最终建议（优先级排序）

### 优先级 1（立即执行）🔴

**建议 1: 极简化 copilot-instructions.md**
- 目标: 从 1000行 → 300行
- 方法: 仅保留场景索引 + 核心原则
- 效果: 减少 70% 内容，查找更快

**建议 3: 减少场景 0 重复**
- 目标: copilot 简化为引用，v2.md 保留详细版
- 效果: 避免维护两份，确保一致性

---

### 优先级 2（建议执行）🟠

**建议 2: 统一场景描述格式**
- 目标: 所有场景使用相同结构
- 方法: 触发→执行→详细→禁止→验证
- 效果: AI 理解更快，结构更清晰

**建议 4: 引入场景决策矩阵**
- 目标: AI 快速识别场景
- 方法: 关键词 → 场景 映射表
- 效果: 减少场景误判

---

### 优先级 3（推荐执行）🟡

**建议 5: 增加常见错误章节**
- 目标: AI 快速纠错
- 方法: 错误 → 原因 → 纠正 → 预防
- 效果: 减少重复犯错

---

## ✅ 总结

### 当前设计的优点 ✅
1. 职责划分基本清晰
2. 引用关系完整
3. 覆盖常见场景
4. 优先级标识明确

### 当前设计的问题 ❌
1. 场景 0 内容高度重复（95%）
2. 信息密度不均（copilot 冗余，v2.md 不足）
3. 跳转次数过多（10次）
4. 维护成本高（12处需要同步）

### 优化后的预期效果 ✨
1. 减少 70% copilot 内容（1000→300行）
2. 减少重复维护（12处→6处）
3. 减少跳转次数（10次→3次）
4. 提高查找效率（快速定位）
5. 降低维护成本（统一格式）

### 核心原则 💎
**作为 AI 使用者，我需要的是**:
1. 🔴 **快速定位**: 用最少时间找到需要的信息
2. 🔴 **避免重复**: 相同信息只维护一份
3. 🔴 **结构清晰**: 统一的格式和结构
4. 🔴 **易于维护**: 修改一处，全局生效

---

**分析完成日期**: 2025-11-10  
**下次审查**: 优化方案实施后  
**分析人**: AI 大模型（从使用者视角）

