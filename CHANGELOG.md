# 规范体系变更日志

> 记录项目规范文档的重大变更历史，便于追踪演进过程

---

## [Unreleased]

### ✨ Added（新增）

#### 1. 第21章补充：测试目录结构详细规范（按测试类型分类）

**位置**: `guidelines/guidelines/v2.md` 第21章"验证代码目录结构"部分

**问题**: logger.test.js、errors.test.js 等基础设施测试与功能性测试混在一起，难以区分和维护

**解决方案**: 在 test/unit/ 下按测试类型分子目录

**核心内容**:
- ✅ 详细的测试目录结构（test/unit/features, infrastructure, utils）
- ✅ 测试分类标准（3类）
  - features/ - 功能性测试（业务功能、对外API）
  - infrastructure/ - 基础设施测试（日志、错误、连接、缓存）
  - utils/ - 工具函数测试（纯函数、辅助工具）
- ✅ 分类判断标准（详细说明和示例）
- ✅ 测试目录迁移指南（从扁平到分层）
- ✅ 迁移前后对比示例
- ✅ 兼容性说明（Vitest/Jest/Mocha）

**目录结构示例**:
```
test/unit/
  ├─ features/           # 功能性测试
  │  ├─ find.test.js
  │  └─ count.test.js
  ├─ infrastructure/     # 基础设施测试
  │  ├─ logger.test.js
  │  └─ errors.test.js
  └─ utils/              # 工具函数测试
     └─ helpers.test.js
```

**测试分类表**:
| 类型 | 目录 | 测试对象 |
|------|------|---------|
| 功能性测试 | features/ | 业务功能、对外API |
| 基础设施测试 | infrastructure/ | 日志、错误、连接、缓存 |
| 工具函数测试 | utils/ | 纯函数、辅助工具 |

**受影响项目**:
- monSQLize: 10个测试文件需要重新组织
  - 功能测试: find.test.js, count.test.js, aggregate.test.js 等
  - 基础设施: logger.test.js, errors.test.js, connection.test.js

**迁移工作量**: 约 10 分钟/项目

**优势**:
- ✅ 清晰分类，易于查找和维护
- ✅ 职责明确，符合软件分层思想
- ✅ 便于单独运行某类测试

#### 2. 新增第22章：验证脚本与工具目录规范

**位置**: `guidelines/guidelines/v2.md` 第21章后

**章节目标**: 规范验证脚本、构建脚本、部署脚本等工具的目录结构和命名规范

**核心内容**:
- ✅ 标准目录结构（scripts/verify/build/deploy/migration/utils）
- ✅ 验证脚本分类（3类）
  - compliance/ - 合规性验证（一次性执行，不纳入CI）
  - docs/ - 文档完整性验证（CI自动执行）
  - data/ - 数据验证（部署/迁移时执行）
- ✅ 验证脚本命名规范（verify-<目标>-<方面>.js）
- ✅ scripts/README.md 模板
- ✅ 验证脚本编写最佳实践（4条原则）
- ✅ 从 test/ 迁移到 scripts/verify/ 的迁移指南
- ✅ 与第21章的关系说明（互补协同）

**目录结构示例**:
```
<项目>/
  scripts/
    ├─ README.md
    ├─ verify/
    │  ├─ compliance/    # 合规性验证
    │  ├─ docs/          # 文档验证（CI）
    │  └─ data/          # 数据验证
    ├─ build/
    ├─ deploy/
    └─ utils/
```

**命名规范**:
- verify-p0-improvements.js
- verify-docs-completeness.js
- verify-examples-runnable.js

**受影响项目**:
- monSQLize: test/verify-p0.js → scripts/verify/compliance/
- vsse: test/verify-config-changes.js → scripts/verify/compliance/

#### 2. 第5章补充：CHANGELOG.md 管理策略（按项目规模）

**位置**: `guidelines/guidelines/v2.md` 第5章

**核心内容**:
- ✅ 按项目规模分类管理策略
  - 小型项目（<500行）：单文件管理
  - 中型项目（500-2000行）：按年归档
  - 大型项目（>2000行）：按年+版本详细存储
- ✅ 归档触发条件（>500行 或 >10版本 或 >1年）
- ✅ 归档策略和目录结构
- ✅ changelogs/ 目录示例

**归档策略示例**:
```
中型项目:
  CHANGELOG.md            # 最近1年
  changelogs/2024.md      # 归档

大型项目:
  CHANGELOG.md            # 最新3版本（摘要）
  changelogs/2025/v1.1.0.md  # 详细变更
```

**当前状态**:
- guidelines 项目：~200行，使用单文件管理 ✅
- 其他项目：均未触发归档条件

#### 3. 新增第21章：验证与测试策略（完整流程）

**位置**: `guidelines/guidelines/v2.md` 第20章后

**章节目标**: 统一说明所有验证要求、优先级矩阵、执行时机和失败处理流程

**核心内容**:
- ✅ 验证分类与优先级（🔴强制/🟠必须/🟡推荐）
  - 开发阶段验证：单元测试、示例运行、文档一致性
  - 提交阶段验证：测试通过、文档完整、敏感信息检查
  - CI/CD验证：矩阵测试、示例验证、依赖安全扫描
- ✅ 验证代码目录结构（test/unit, test/integration, test/e2e, examples/, benchmarks/）
- ✅ 验证优先级决策矩阵（按操作类型：新增功能/Bug修复/性能优化等）
- ✅ 验证失败处理流程（本地验证失败、CI验证失败）
- ✅ 自动化验证工具清单（测试框架、覆盖率工具、Lint、安全扫描）
- ✅ 验证命令速查表（Node.js/Python/Go）
- ✅ 验证最佳实践（测试优先、持续验证、分层验证、失败快速、可视化覆盖率）

**整合的章节**:
本章节整合了分散在20+处的验证要求：
- 场景A: 功能验证（测试+示例）
- 第3.1章: 自检与验证
- 第5章: 示例验证
- 第6章: 文档一致性
- 第7章: 测试框架和覆盖率
- 第11章: CI矩阵
- 第15章: 文档自检
- 第16章: PR门禁清单
- 第18章: 示例目录

**验证优先级矩阵示例**:
| 操作类型 | 单元测试 | 示例 | 文档 | 覆盖率 | 性能测试 |
|---------|---------|------|------|--------|---------|
| 新增功能 | 🔴强制 | 🔴强制 | 🔴强制 | 🟠必须 | 🟢可选 |
| Bug修复 | 🟠必须 | 🟢可选 | 🔴强制 | 🟠必须 | 🟢可选 |
| 性能优化 | 🟠必须 | 🟡推荐 | 🔴强制 | 🟠必须 | 🔴强制 |

#### 2. 新增第19.1节：分析报告目录规范

**位置**: `guidelines/guidelines/v2.md` 第19章后

**核心内容**:
- ✅ 定义 `<项目>/analysis-reports/` - 主动性改进分析报告（永久保留）
- ✅ 定义 `<项目>/bug-analysis/` - 被动性问题修复分析（永久保留）
- ✅ 明确两类目录的适用场景、命名规范和保留策略
- ✅ 与第19章"临时文档清理规范"形成互补

**适用场景**:
- analysis-reports: P0/P1/P2改进、性能优化、架构重构、技术债务分析
- bug-analysis: Bug根因分析、问题修复记录、回归测试方案

**命名规范**:
```
analysis-reports/YYYY-MM-DD-<类型>-<简短描述>.md
bug-analysis/YYYY-MM-DD-<问题描述>.md
```

### 🔄 Changed（修改）

#### 1. 更新 AI 执行速查

**修改位置**: `guidelines/guidelines/v2.md` - AI执行速查章节

**新增内容**:
- 立即执行规则：补充"主动改进/优化 → 推荐记录分析到 analysis-reports/"
- 关键决策点：
  - 第5点：主动改进 → 推荐记录到 analysis-reports/ [第19.1章]
  - 第6点：Bug修复 → 强制记录到 bug-analysis/ [第19.1章]
  - 第7点：代码修改完成 → 执行完整验证流程 [第21章]

#### 2. 更新第19章：临时文档清理规范

**修改内容**:
- 内容归档部分：补充"主动改进分析记录到 analysis-reports/"
- 最佳实践部分：明确 analysis-reports 和 bug-analysis 永久保留
- 引用第19.1章说明永久目录与临时文档的区别

#### 3. 更新目录结构

**修改内容**:
- 目录中新增 19.1 子章节链接
- 目录中新增第21章链接
- 保持原有章节编号不变

### 📊 影响范围

**已采用规范的项目**:
- ✅ monSQLize - 已有 analysis-reports/ 和 bug-analysis/

**新项目建议**:
- 🔴 活跃开发项目 - 必须创建 analysis-reports 和 bug-analysis 目录
- 🟡 维护模式项目 - 按需创建

**相关文档**:
- ✅ 已创建完整分析报告：`guidelines/analysis-reports/规范分析-验证与分析报告目录.md`
- ✅ 已创建完成报告：`guidelines/analysis-reports/规范更新完成报告.md`

### 💡 为什么这些更新重要

**第21章的价值**:
- 解决验证要求分散在20+处的问题，提供统一视图
- 明确不同操作类型的验证优先级（强制/必须/推荐）
- 提供完整的验证失败处理流程
- 整合自动化工具清单，便于选择和配置

**第19.1节的价值**:
- 规范化 analysis-reports 目录（实践中已存在但规范未定义）
- 明确主动改进与被动修复的区别
- 与临时文档清理规范形成互补，避免混淆
- 提供长期价值的知识沉淀机制

---

## [1.1.0] - 2025-11-03 - 职场政治受害者心态规范

### ✨ Added（新增）

#### 1. 新增第19.1节：分析报告目录规范

**位置**: `guidelines/guidelines/v2.md` 第19章后

**核心内容**:
- ✅ 定义 `<项目>/analysis-reports/` - 主动性改进分析报告（永久保留）
- ✅ 定义 `<项目>/bug-analysis/` - 被动性问题修复分析（永久保留）
- ✅ 明确两类目录的适用场景、命名规范和保留策略
- ✅ 与第19章"临时文档清理规范"形成互补

**适用场景**:
- analysis-reports: P0/P1/P2改进、性能优化、架构重构、技术债务分析
- bug-analysis: Bug根因分析、问题修复记录、回归测试方案

**命名规范**:
```
analysis-reports/YYYY-MM-DD-<类型>-<简短描述>.md
bug-analysis/YYYY-MM-DD-<问题描述>.md
```

#### 2. 更新 AI 执行速查

**修改位置**: `guidelines/guidelines/v2.md` - AI执行速查章节

**新增内容**:
- 立即执行规则：补充"主动改进/优化 → 推荐记录分析到 analysis-reports/"
- 关键决策点：
  - 第5点：主动改进 → 推荐记录到 analysis-reports/
  - 第6点：Bug修复 → 强制记录到 bug-analysis/

### 🔄 Changed（修改）

#### 1. 更新第19章：临时文档清理规范

**修改内容**:
- 内容归档部分：补充"主动改进分析记录到 analysis-reports/"
- 最佳实践部分：明确 analysis-reports 和 bug-analysis 永久保留
- 引用第19.1章说明永久目录与临时文档的区别

#### 2. 更新目录结构

**修改内容**:
- 目录中新增 19.1 子章节链接
- 保持原有20章结构不变

### 📊 影响范围

**已采用规范的项目**:
- ✅ monSQLize - 已有 analysis-reports/ 和 bug-analysis/

**新项目建议**:
- 🔴 活跃开发项目 - 必须创建两个目录
- 🟡 维护模式项目 - 按需创建

**相关文档**:
- ✅ 已创建完整分析报告：`guidelines/analysis-reports/规范分析-验证与分析报告目录.md`

---

## [1.1.0] - 2025-11-03 - 职场政治受害者心态规范

### 📋 更新概览

**核心新增**: 在 `interview-management` 项目规范中增加了关于"职场政治受害者心态"的专门章节，提供更人性化、更理性的候选人评估标准。

### ✨ Added（新增）

#### 1. 新增专门章节：`💭 特殊情况处理：职场政治受害者心态`

**位置**: `guidelines/profiles/interview-management.md` 第9章（在"面试重点"章节后）

**核心观点**:
- ✅ 这是正常的人性反应，不是性格缺陷
- ✅ 评估重点：不是"有没有影响"，而是"影响程度是否可控"
- ✅ 面试策略：理解 > 质疑，支持 > 筛除

**主要内容**:

1. **典型场景识别**
   - 被"卸磨杀驴"（带会新人后被开除）
   - 被空降领导清理团队
   - 被找理由辞退（实际是职场政治）

2. **换位思考分析**
   - 正常的心理反应（对管理层不信任、对带新人有顾虑等）
   - 为什么这些反应是正常的（自我保护机制）
   - 如果没有这些反应反而不正常

3. **三种心态类型分类**
   - ✅ 健康心态（85%的人）→ 可以录用
   - ⚠️ 一般心态（10%的人）→ 谨慎录用，需要支持
   - 🚩 问题心态（5%的人）→ 不建议录用

4. **正确的评估标准**
   - ❌ 错误：要求"完全没有心理阴影"（不人性化）
   - ✅ 正确：评估"心理影响的程度是否可控"
   - 4个评估维度：影响程度、是否理性、是否影响工作、是否愿意改变

5. **面试问题示例**
   - Q1: 关于被开除的经历（用理解的方式）
   - Q2: 关于带新人（要表达理解）
   - Q3: 关于管理层（坦诚式沟通）
   - 每个问题都提供了：错误问法 vs 正确问法、观察点、评估标准

6. **AI 和面试官的正确做法**
   - 改变心态：从"质疑"到"理解"
   - 改变问法：从"审问"到"对话"
   - 改变标准：从"完美"到"可控"
   - 改变目标：从"筛除风险"到"提供支持"

7. **AI 在简历分析中的处理方式**
   - 提供了错误写法 vs 正确写法的对比
   - 明确了在"简历分析.md"中如何描述这类情况
   - 强调要用理解的方式，不是质疑

### 🔄 Changed（修改）

无破坏性变更，纯增量更新。

### 💡 为什么这个更新重要

**背景**: 
在实际案例分析中发现，当候选人经历过"被卸磨杀驴"等职场政治时，传统的评估标准容易将正常的心理反应误判为"性格缺陷"或"高风险"，导致：
- 错误地淘汰优质候选人
- 面试官用质疑的方式提问，让候选人无法真诚沟通
- 评估标准不人性化，期望"完美候选人"

**改进**:
- ✅ 承认这是正常反应，提供更理性的评估标准
- ✅ 提供更人性化的面试问法，建立信任
- ✅ 指导公司如何支持这类候选人（而不是只筛除）
- ✅ 帮助 AI 和面试官区分"健康心态"和"问题心态"

**影响**:
- 提升招聘成功率（不会错过优质但有合理顾虑的候选人）
- 改善面试体验（候选人感受到理解和尊重）
- 提供更科学的评估标准（程度评估而不是有无评估）

### 📊 实际应用案例

**案例：石火坚（Node.js Senior）**

**情况**: 
- 被空降技术总监"卸磨杀驴"（带会新人后被开除）
- 技术能力强（MongoDB专家、架构设计）
- 期望薪资保守（30-35K，市场价40-50K）

**之前评估**: 
- 🚩 高风险（职场政治受害者心态）
- 担心不愿意带新人、不信任管理层

**应用新规范后**: 
- ✅ 理解这是正常反应
- ⚠️ 评估程度：大概率是健康心态（85%）
- ✅ 可以录用，但需要：
  - 面试时用理解的方式提问
  - 给予安全感（强调公司文化）
  - 前3-6个月不要立即让他带新人
  - 用行动证明公司不搞政治

**结果**: 
从"谨慎/不推荐"变为"强烈推荐（有条件）"

### 📝 相关文档

- 主规范：`guidelines/profiles/interview-management.md` 第9章
- 案例分析：`interview-management/candidates/NodeJS/Senior/石火坚/关于心态的理性讨论.md`
- 补充评估：`interview-management/candidates/NodeJS/Senior/石火坚/重要信息更新-最终评估.md`

### 🎯 后续行动

建议 AI 助手和面试官：
1. ✅ 阅读新增的第9章（约10分钟）
2. ✅ 理解"健康/一般/问题心态"的区别
3. ✅ 学习如何用"理解"而不是"质疑"的方式提问
4. ✅ 在实际面试中应用这些原则

---

## [1.0.0] - 2025-11-03 - interview-management 初始规范

### 📋 更新概览

首次创建 `interview-management` 项目规范。

### ✨ Added（新增）

- ✅ 完整的简历分析规范（3个核心文档模板）
- ✅ 项目代码验证规则（可选）
- ✅ JD 分析规则
- ✅ 候选人评估标准（红旗识别、通用标准）
- ✅ 面试重点指南
- ✅ 评分标准（量化评估）
- ✅ AI 提示词规范
- ✅ 质量自检清单

---

# 模型描述与调用规则更新日志

---

## [2.1.0] - 2025-10-30 - AI执行入口优化版

## 📋 更新概览

### ✨ Added（新增）

- **优先级决策树**: 将复杂矩阵简化为5步决策树，折叠详细表格到<details>本次更新对 MCP 模型描述和调用规则进行了全面规范化，提升了调度决策的清晰度和一致性。

- **执行示例章节**: 添加4个实际执行案例（findPage功能、Bug修复、大文档优化、代码审查）

- **交互式索引**: README.md新增"我想做...应该读哪里"快速查询表格（16个场景）---

- **快速导航表格**: 5个场景一键直达+操作类型决策矩阵

- **错误恢复策略**: 测试失败、文档不一致、大规模编辑失败的处理流程

### 1. 模型描述重写 (`multi-mcp/mistral/config.json`)

### 🔄 Changed（修改）

- **场景触发器优化**: 场景A-E格式统一，删除冗余后缀#### 变更原则

- **锚点引用修复**: 7处从短格式（#31）改为完整锚点（#31-完整标题）- ✅ 统一格式：所有模型补齐 `note` 字段

- **版本说明明确化**: copilot-instructions.md v2.1（AI入口），v2.md v2.0（完整规范）- ✅ 客观描述：移除"最强"等主观表述，使用"高性能"等客观能力描述

- **README.md精简**: 从原始版本优化为5KB导航文档，删除冗余附录- ✅ 成本标签：明确标注成本/延迟等级（低/中/高）

- **决策矩阵简化**: 主流程使用决策树，详细矩阵折叠到<details>- ✅ 边界清晰：明确适用场景与限制条件

- ✅ 角色定位：区分官方模型与代理（agent）

### 🐛 Fixed（修复）

- **断链修复**: #### 具体变更

  - README.md: 3处断链（copilot-instructions.md路径、删除v1.0引用）

  - v2.md: 9处断链（./templates/ → ../templates/, ./profiles/ → ../profiles/）| 模型 | 旧描述 | 新描述 | 关键改进 |

- **章节引用修复**: 所有章节引用使用完整锚点格式|------|--------|--------|---------|

- **编码问题修复**: PowerShell脚本使用UTF-8无BOM编码| **codestral** | 代码生成和重构专家 | 代码生成与重构专家，专注于代码补全、函数生成、单元测试编写 | ✅ 明确具体能力范围 <br> ✅ 新增成本/延迟标签 <br> ✅ 说明不适用于长篇自然语言推理 |

| **pixtral** | 图像分析和视觉任务 | 多模态视觉理解模型，处理图像分析、OCR、视觉问答任务 | ✅ 强调多模态能力 <br> ✅ 新增格式要求说明 <br> ✅ 明确需要显式图像输入 |

### 📚 Documentation（文档）| **magistral** | 通用推理和复杂问题解决 | 通用推理代理，擅长复杂指令分解、多步骤任务编排、工具调用 | ✅ 明确为"代理"而非基础模型 <br> ✅ 突出工具调用编排能力 <br> ✅ 新增适用场景说明 |

- **v2.md导航增强**: 顶部添加面包屑导航和完整TOC（AI速查+20章节）| **mistral_large** | 最强推理能力，处理极复杂任务 | 高性能通用推理模型，处理长上下文、高精度、极复杂逻辑任务 | ✅ "最强"→"高性能"（客观化） <br> ✅ 明确长上下文支持 <br> ✅ 强调按需启用（成本考虑） |

- **README.md重构**: 分为"AI助手"和"开发者"两部分，添加快速导航| **mistral_small** | 快速响应的轻量级模型 | 轻量快速响应模型，处理简单问答、分类、路由、摘要任务 | ✅ 明确具体任务类型 <br> ✅ 新增"不适用于复杂推理"限制 |

- **模板文档独立**: Bug分析模板、文件模板、自动化脚本移至独立文件| **devstral** | 开发工具专家，代码审查和技术债务分析 | 开发工具链代理，专注代码审查、技术债识别、测试覆盖率分析 | ✅ 明确为"代理"定位 <br> ✅ 新增"仅做静态分析"限制 <br> ✅ 强调不执行构建/部署 |

| **mixtral** | Mixtral-8x7B: 高性价比... | Mixtral-8x7B 混合专家模型，平衡性能与成本的通用推理处理器 | ✅ 简化描述，突出性价比 <br> ✅ 明确与 large/small 的比较 |

---

---

## [2.0.0] - 2025-10-30 - 完整规范AI友好化版本

### 2. 调用规则优化 (`guidelines/mcp-calling-rules.md`)

### ✨ Added（新增）

- **场景触发器系统**: 5个场景（A-E）的IF-THEN规则和强制执行流程#### 新增内容

- **优先级体系**: 🔴强制 > 🟠必须 > 🟡推荐 > 🟢可选，四级分类

- **AI执行速查**: 立即执行规则、关键决策点、禁止操作清单**A. 模型选型决策矩阵**

- **Bug修复分析模板**: 强制记录根本原因、影响对比、修复方案- 📊 新增 7 列维度表格：模型名称、核心能力、适用场景、成本/延迟、委派时机

- **20章节详细规范**: 从基线风格到大规模文件编辑策略- 🎯 新增 5 条选型决策规则：

- **集中式Profile管理**: guidelines/profiles/<project>.md统一配置  1. 优先本地处理

- **MCP调度规则**: AI模型选择与调度规范（v2.md）  2. 成本敏感型选择

  3. 延迟敏感型选择

### 🔄 Changed（修改）  4. 精度优先型选择

- **文档结构重组**:   5. 专业领域型选择

  - copilot-instructions.md: AI执行入口（12KB → 15KB+）

  - README.md: 版本索引和导航入口（5KB）**B. 流程图更新**

  - v2.md: 完整20章节规范（33KB）- 🔄 统一术语："能力评估" → "能力评估：本地是否可高质量完成"

- **Profile策略调整**: 从项目内迁移到根级集中式管理- 🔄 增加步骤："结果验证" → "结果验证：正确性、完整性与安全性"

- **临时文档清理**: 删除IMPROVEMENTS.md、VERIFICATION.md等临时文件- 🔄 优化描述："结果整合" → "本地补充：结合项目规范与上下文"



### 📚 Documentation（文档）---

- **功能添加完整流程**: 3.1章详细说明四要素（代码-测试-示例-文档）

- **大规模编辑策略**: 第20章规定>100行使用PowerShell脚本## 📊 影响分析

- **文档联动规则**: 第6章明确何时必须更新文档

- **示例代码规范**: 第18章规定examples/目录要求### 对开发者的影响

✅ **更清晰的选型指导**：明确成本、延迟、能力边界  

---✅ **避免过度调用**：更准确识别本地可处理的任务  

✅ **成本优化**：通过决策矩阵合理选择模型等级

## [1.0.0] - 2025-01-20 - 初始版本

### 对 AI 助手的影响

### ✨ Added（新增）✅ **统一调度逻辑**：基于标准化的模型描述做决策  

- **基线风格规范**: 缩进、行结尾、编码标准✅ **减少冗余调用**：清晰的适用场景避免试错  

- **Profile选择策略**: 项目级配置覆盖机制✅ **提升用户体验**：更快响应（优先本地+合理委派）

- **提交与PR规范**: Conventional Commits、PR模板

- **分支与发布流程**: SemVer版本管理---

- **文档策略**: README/CHANGELOG/STATUS维护规则

- **测试与质量标准**: 覆盖率门槛、测试框架## 🔍 质量保证

- **多语言支持**: Node.js/Python/Go/Java/Rust默认命令

### 验证检查项

### 📚 Documentation（文档）- ✅ JSON 格式验证通过（config.json）

- **单一guidelines.md**: 初始版本合并所有规范- ✅ Markdown 语法检查通过（mcp-calling-rules.md）

- **.editorconfig模板**: 统一编辑器配置- ✅ 所有模型 `note` 字段完整

- **.gitattributes模板**: 行结尾规范化- ✅ 描述术语一致性（代理 vs 模型）

- ✅ 成本/延迟标签完整（低/中/高）

---

---

## 版本说明

## 📝 后续建议

### 版本号规则

- **主版本号**: 破坏性变更或重大重构### 短期优化

- **次版本号**: 新增功能或重要优化1. **实测验证**：在实际项目中测试新的选型矩阵效果

- **修订号**: Bug修复或小改进2. **成本监控**：记录各模型调用频率与成本，优化决策规则

3. **文档同步**：将模型描述同步到项目 README.md

### 当前版本关系

```### 长期优化

guidelines/1. **动态调度**：基于实时成本/负载动态选择模型

├── .github/copilot-instructions.md   # v2.1.0 - AI执行入口优化版2. **A/B 测试**：对比本地处理 vs 委派的质量差异

├── guidelines/v2.md                   # v2.0.0 - 完整规范AI友好化版本3. **用户反馈**：收集用户对响应速度/质量的评价

├── mcp/v2.md                          # v2.0.0 - MCP调度规则

└── CHANGELOG.md                       # 本文件 - 规范体系变更历史---

```

## 📚 相关文件

### 迁移建议

- **从v1.0升级**: 阅读v2.0变更日志，重点关注场景触发器和优先级体系- `multi-mcp/mistral/config.json` - 模型配置

- **AI助手**: 始终从copilot-instructions.md v2.1开始- `guidelines/mcp-calling-rules.md` - 调用规则

- **开发者**: 使用README.md交互式索引快速定位- `.github/copilot-instructions.md` - Copilot 使用说明（引用规则）



------



## 变更类型说明**变更作者**: GitHub Copilot  

**审核状态**: 待人工审核

- ✨ **Added（新增）**: 新功能、新章节、新模板

- 🔄 **Changed（修改）**: 现有功能的改进或重构---

- 🐛 **Fixed（修复）**: Bug修复、断链修复

- 📚 **Documentation（文档）**: 纯文档更新## 2025-10-28 补充

- ⚠️ **Deprecated（弃用）**: 即将移除的功能

- 🗑️ **Removed（移除）**: 已删除的功能或文件- 更新 `guidelines/mcp-rule.md`：

- 🔒 **Security（安全）**: 安全相关修复  - 明确“默认模型职责范围（强制）”：仅限意图分析、MCP 调用、结果整合与转发

  - 调整选型原则为“适配性优先，兼顾时间与成本”，并给出冲突处理准则

---- 同步说明模型选择时的优先级顺序：能力适配度 > 时延/响应时间（SLA） > 成本预算


## 统计数据

### v2.1.0优化成果
- **文档精简**: README.md从35KB压缩到5KB（节省86%）
- **导航优化**: 新增16个交互式索引场景
- **断链修复**: 修复12处断链（README 3处 + v2.md 9处）
- **检查覆盖**: 健康检查脚本包含4大检查项
- **执行示例**: 添加4个完整执行案例（平均耗时3-10分钟）

### 文档规模对比
| 版本 | copilot-instructions.md | v2.md | README.md | 总计 |
|------|------------------------|-------|-----------|------|
| v1.0 | - | 35KB | - | 35KB |
| v2.0 | 12KB | 33KB | 35KB | 80KB |
| v2.1 | 15KB | 33KB | 5KB | 53KB |

---

**维护者**: GitHub Copilot + 项目团队  
**更新频率**: 重大变更时更新  
**参考规范**: [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)
